apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  labels:
    name: syn-stackgres-operator
  name: syn-stackgres-operator
  namespace: syn-stackgres-operator
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  labels:
    name: stackgres
  name: stackgres
  namespace: syn-stackgres-operator
spec:
  channel: stable
  config:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
            - matchExpressions:
                - key: node-role.kubernetes.io/infra
                  operator: Exists
    env:
      - name: APP_OPTS
        value: -Dquarkus.vertx.max-worker-execute-time=5000
      - name: JAVA_OPTS
        value: -Dquarkus.vertx.max-worker-execute-time=5000
      - name: RECONCILIATION_PERIOD
        value: '3600'
      - name: RECONCILIATION_PRIORITY_TIMEOUT
        value: '50'
      - name: RECONCILIATION_CACHE_EXPIRATION
        value: '30'
      - name: RECONCILIATION_CACHE_SIZE
        value: '5000'
      - name: PATRONI_CTL_TIMEOUT
        value: '10'
  installPlanApproval: Manual
  name: stackgres
  source: redhat-marketplace
  sourceNamespace: openshift-marketplace
